\documentclass[aspectratio=43]{beamer}

\usepackage{graphicx}
\usepackage{listings}
\usepackage{tikz}



\usetheme{Antibes}

\makeatletter\let\frametextheight\beamer@frametextheight\makeatother

\setbeamertemplate{frametitle continuation}{(\insertcontinuationcount)}
\setbeamertemplate{footline}[page number]

\beamertemplatenavigationsymbolsempty

\setbeamerfont{title}{series=\bfseries}
\setbeamerfont{frametitle}{size=\large}
\setbeamerfont{title in head/foot}{series=\bfseries}
\lstset{basicstyle=\small}

\usetikzlibrary{arrows,shapes}


\newcommand {\centergraphic}[1] {
  \begin{center}
    \includegraphics[width=\textwidth,height=7cm,keepaspectratio]
                    {#1}
  \end{center}
}

\newcommand {\framegraphic}[2] {
  \begin{frame}
    \frametitle{#1}
    \centergraphic{#2}
  \end{frame}
}

\title{Do Time of Day and Developer Experience Affect Commit Bugginess?}
\author{{\bfseries Jon Eyolfson}, Lin Tan, Patrick Lam}
\institute{University of Waterloo}
\date{May 22, 2011}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}[plain]
\titlepage
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Outline}
  \setcounter{tocdepth}{1}
  \tableofcontents
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Introduction}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Goal}
  
  \begin{itemize}

    \item Find correlation between commit ``bugginess'' vs time-of-day,
          day-of-week and experience/commit frequency of developers

    \vspace{2em}

    \item Perhaps build prediction models to identify bugs or better allocate
          developer time

    \vspace{2em}

    \item Construct and make available database of bug introducing/fixing
          commits with useful metadata

  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Experimental Methods}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}[fragile]
  \frametitle{Example}

  \begin{block}{Bug-fixing commit}
    \begin{lstlisting}
Commit: 2cdc03fe...
Author: Alice <alice@project.com>
Message: I fixed a bug!
@@ -100,1 +100,1 @@
-    if (i <= 128) {
+    if (i < 128) {
    \end{lstlisting}
  \end{block}

  \begin{block}{Blame of previous version}
    \begin{lstlisting}
f4ce718c...  100    if (i <= 128) {
    \end{lstlisting}
  \end{block}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Creating Connections}

  \tikzstyle{greenblock} = [rectangle, draw, fill=green!20, text centered, rounded corners]
  \tikzstyle{redblock} = [rectangle, draw, fill=red!20, text centered, rounded corners]
  \tikzstyle{line} = [draw, -latex']
  \begin{center}
    \begin{tikzpicture}[node distance = 1cm, auto]
      % Place nodes
      \node [greenblock, anchor=west] (fix) at (1, 0.34) {2cdc03fe...};
      \node [redblock, anchor=east] (intro1) at (0, 0.95) {f4ce718c...};
      \node [redblock, anchor=north east] (intro2) at (0, 0.6) {????????...};
      \node [redblock, anchor=north east] (intro3) at (0, 0) {????????...};
      \node (introt) at (-1, 1.5) {Introducing commit(s)};
      \node (fixt) at (2, 0.9) {Fixing commit};

      \path [line] (fix) -- (intro1);
      \path [line] (fix) -- (intro2);
      \path [line] (fix) -- (intro3);
    \end{tikzpicture}
  \end{center}
  
  \begin{itemize}

    \item Find the bug fixing commits using a keyword search for ``fix''

    \item Keyword search precision of 86\%--87\% and recall of 71\%--73\%

  \end{itemize}

  \begin{definition}
    A ``buggy'' or introducing commit is a commit changed by at least one fixing commit
  \end{definition}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Additional Information}

  \begin{itemize}

    \item Record the following

    \begin{itemize}
      \item Commit times (local and UTC)

      \item Number of lines changed in code/comments/other in commit

      \item Merge authors with same name/email
    \end{itemize}

    \item We can now determine    
  
      \begin{itemize}
        \item Developer experience

        \item Bug lifetime

        \item Whether a commit contains a bug and how many fixes were applied
      \end{itemize}
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Results}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Repositories}

  \begin{center}
    \begin{tabular}{l|r|r}
      & \multicolumn{1}{c|}{{\bf Linux kernel}}
      & \multicolumn{1}{c}{{\bf PostgreSQL}} \\ \hline
      First commit & April 16, 2005 & July 9, 1996 \\
      Last commit & Nov. 21, 2010 & Jan. 24, 2011 \\
      Lines of code & over 5 million & over 750,000 \\
      Number of authors & 6,504 & 34 \\
      Total commits & 222,332 & 31,098 \\
      Introducing commits & 56,590 (25.5\%) & 7,388 (23.8\%) \\
      Fixing commits & 61,044 & 6,578
    \end{tabular}
  \end{center}
  \begin{itemize}
    \item Note: these are the up-to-date results at
                \url{http://www.eyolfson.com/scc/}
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Time-of-day}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{Does Time-of-day Affect Linux?}
             {../figure/linux-bugginess-hour}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{Linux Late Night Commits are 20\% More Buggy}
             {../figure/linux-bugginess-hour-red}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{Linux Early Morning Commits Produce 25\% Fewer Bugs}
             {../figure/linux-bugginess-hour-red-green}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\postgresqlHourTitle}{What About Time-of-day and PostgreSQL?}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{What About Time-of-day and PostgreSQL?}
             {../figure/postgresql-bugginess-hour}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{Similarity Late Night Commits are 26\% More Buggy}
             {../figure/postgresql-bugginess-hour-red}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{Also Early Morning Commits Produce 27\% Fewer Bugs}
             {../figure/postgresql-bugginess-hour-red-green}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Developer Experience}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{What Is Experience?}

  \begin{definition}
    Experience is the number of days from the author's first commit to the
    current commit
  \end{definition}

  \begin{itemize}
    \item Consider two of an author's commits who started on May 1st
      
      \begin{itemize}
        \item May 1st

        \item May 22nd
      \end{itemize}

    \item First commit would be 0 days experience and second 21 days
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{Do Experienced Linux Developers Commit Fewer Bugs?}
             {../figure/linux-bugginess-experience}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{Does PostgreSQL Follow the Same Trend?}
             {../figure/postgresql-bugginess-experience}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Developer Commit Frequency}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Classifications}

  \begin{itemize}
    \item Based on frequency

    \item Daily, weekly, monthly, single
  \end{itemize}

  \begin{definition}
    ``Job'' is a daily committer with the majority of commits between working
    hours
  \end{definition}

  %% \begin{center}
  %%   \includegraphics[width=3cm]{office-space.png}
  %% \end{center}

  \begin{definition}
    ``Other'' is a committer with fewer than 20 commits
  \end{definition}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{Does Developer Activeness Matter for Linux?}
             {../figure/linux-bugginess-author-class}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Combined Time-of-day and Experience}
\newcommand{\linuxCombinedTitle}
           {Differences for Inexperienced and Experienced Linux Developers}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{\linuxCombinedTitle\hspace{0.5em}(1)}
             {../figure/linux-bugginess-hour-combined-1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{\linuxCombinedTitle\hspace{0.5em}(1)}
             {../figure/linux-bugginess-hour-combined-1-red}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{\linuxCombinedTitle\hspace{0.5em}(1)}
             {../figure/linux-bugginess-hour-combined-1-red-green}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{\linuxCombinedTitle\hspace{0.5em}(2)}
             {../figure/linux-bugginess-hour-combined-2}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Day-of-week}
\newcommand{\linuxDayTitle}{Is a ``Case of the Mondays'' True for Linux?}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{\linuxDayTitle}
             {../figure/linux-bugginess-day}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{\linuxDayTitle}
             {../figure/linux-bugginess-day-red-green}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\postgresqlDayTitle}{What are the Worst Days for PostgreSQL?}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{\postgresqlDayTitle}
             {../figure/postgresql-bugginess-day}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\framegraphic{\postgresqlDayTitle}
             {../figure/postgresql-bugginess-day-red-green}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Bug Lifetime}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}

  \begin{definition}
    Bug lifetime is the number of days from a fixing commit to the earliest bug
    introducing commit
  \end{definition}


  \begin{itemize}
    \item Found the average bug lifetime was

    \begin{itemize}
      \item 1.38 years ($\sigma = 1.35$) for Linux

      \item 3.07 years ($\sigma = 3.19$) for PostgreSQL
    \end{itemize}
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Related Work}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Previous Studies}

  \begin{itemize}
    \item Commits for Eclipse and Mozilla were found to be buggiest on Fridays \cite[MSR]{sliwerski-msr-2005}

    \item Classification of commits into different categories \cite[MSR]{largeCommits}

    \item Bug lifetimes for Linux and PostgreSQL \cite[MSR]{deviant,2006-long}
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Conclusions and Future Work}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{For the Future}

  \begin{itemize}
    \item Study individual developers
   
    \begin{itemize}
      \item Are commits outside their normal schedule worse?

      \item Experience including other open-source projects?
    \end{itemize}

    \item More software projects

    \item Correlations involving code quality

    \item Data is available and browsable at \url{http://www.eyolfson.com/scc/}
  \end{itemize}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Summary of Findings}
  
  \begin{itemize}
    \item Commits between midnight and 4 AM are more likely to be buggy

    \item Commits between 7 AM and noon are less likely to be buggy

    \item More active developers commit fewer bugs

    \item More experienced developers commit fewer bugs

    \item The worst day of the week varies between projects
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{References}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}[allowframebreaks]
  \frametitle{References}
  \bibliographystyle{apalike}
  \bibliography{presentation}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Conclusions and Future Work}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \frametitle{Summary of Findings}

  \begin{itemize}
    \item Commits between midnight and 4 AM are more likely to be buggy

    \item Commits between 7 AM and noon are less likely to be buggy

    \item More active developers commit fewer bugs

    \item More experienced developers commit fewer bugs

    \item The worst day of the week varies between projects
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}
